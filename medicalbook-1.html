<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MedicalMinds - ÿßŸÑÿ¥ÿ®ŸÉÿ© ÿßŸÑÿ∑ÿ®Ÿäÿ© ÿßŸÑŸÖÿ™ÿÆÿµÿµÿ©</title>
    
    <!-- PWA Meta Tags -->
    <meta name="application-name" content="MedicalMinds">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="apple-mobile-web-app-title" content="MedicalBook">
    <meta name="description" content="ÿßŸÑÿ¥ÿ®ŸÉÿ© ÿßŸÑÿßÿ¨ÿ™ŸÖÿßÿπŸäÿ© ÿßŸÑÿ∑ÿ®Ÿäÿ© ÿßŸÑŸÖÿ™ÿÆÿµÿµÿ© ŸÑŸÑÿ£ÿ∑ÿ®ÿßÿ° ŸàÿßŸÑŸÖŸáŸÜŸäŸäŸÜ ÿßŸÑÿµÿ≠ŸäŸäŸÜ">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="theme-color" content="#0088cc">
    
    <!-- PWA Icons -->
    <link rel="manifest" href="manifest.json">
    <link rel="icon" type="image/svg+xml" href="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 200 200'%3E%3Cdefs%3E%3ClinearGradient id='grad' x1='0%25' y1='0%25' x2='100%25' y2='100%25'%3E%3Cstop offset='0%25' style='stop-color:%23ec4899;stop-opacity:1' /%3E%3Cstop offset='100%25' style='stop-color:%23f472b6;stop-opacity:1' /%3E%3C/linearGradient%3E%3C/defs%3E%3Crect width='200' height='200' rx='40' fill='url(%23grad)'/%3E%3Ccircle cx='100' cy='100' r='70' fill='white' opacity='0.95'/%3E%3Cpath d='M100 120 L85 105 Q78 98 78 88 Q78 78 85 74 Q92 71 100 80 Q108 71 115 74 Q122 78 122 88 Q122 98 115 105 Z' fill='%23ec4899'/%3E%3Crect x='95' y='65' width='10' height='20' rx='2' fill='%23ec4899'/%3E%3Crect x='90' y='70' width='20' height='10' rx='2' fill='%23ec4899'/%3E%3Ccircle cx='90' cy='95' r='6' fill='none' stroke='%23ec4899' stroke-width='2'/%3E%3Ccircle cx='110' cy='95' r='6' fill='none' stroke='%23ec4899' stroke-width='2'/%3E%3Ccircle cx='100' cy='90' r='6' fill='none' stroke='%23ec4899' stroke-width='2'/%3E%3Cpath d='M50 110 L70 110 L75 102 L80 118 L85 107 L90 112 L150 112' stroke='%23ec4899' stroke-width='2' fill='none'/%3E%3C/svg%3E">
    <link rel="apple-touch-icon" href="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 200 200'%3E%3Cdefs%3E%3ClinearGradient id='grad' x1='0%25' y1='0%25' x2='100%25' y2='100%25'%3E%3Cstop offset='0%25' style='stop-color:%23ec4899;stop-opacity:1' /%3E%3Cstop offset='100%25' style='stop-color:%23f472b6;stop-opacity:1' /%3E%3C/linearGradient%3E%3C/defs%3E%3Crect width='200' height='200' rx='40' fill='url(%23grad)'/%3E%3Ccircle cx='100' cy='100' r='70' fill='white' opacity='0.95'/%3E%3Cpath d='M100 120 L85 105 Q78 98 78 88 Q78 78 85 74 Q92 71 100 80 Q108 71 115 74 Q122 78 122 88 Q122 98 115 105 Z' fill='%23ec4899'/%3E%3Crect x='95' y='65' width='10' height='20' rx='2' fill='%23ec4899'/%3E%3Crect x='90' y='70' width='20' height='10' rx='2' fill='%23ec4899'/%3E%3Ccircle cx='90' cy='95' r='6' fill='none' stroke='%23ec4899' stroke-width='2'/%3E%3Ccircle cx='110' cy='95' r='6' fill='none' stroke='%23ec4899' stroke-width='2'/%3E%3Ccircle cx='100' cy='90' r='6' fill='none' stroke='%23ec4899' stroke-width='2'/%3E%3Cpath d='M50 110 L70 110 L75 102 L80 118 L85 107 L90 112 L150 112' stroke='%23ec4899' stroke-width='2' fill='none'/%3E%3C/svg%3E">
    
    <link href="https://fonts.googleapis.com/css2?family=Almarai:wght@300;400;700;800&family=Cairo:wght@400;600;700;900&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --primary-color: #ec4899;
            --primary-dark: #db2777;
            --secondary-color: #f472b6;
            --bg-primary: #f0f2f5;
            --bg-secondary: #ffffff;
            --text-primary: #050505;
            --text-secondary: #65676b;
            --border-color: #e4e6eb;
            --hover-bg: #f2f3f5;
            --shadow-sm: 0 1px 2px rgba(0, 0, 0, 0.1);
            --shadow-md: 0 4px 12px rgba(0, 0, 0, 0.15);
            --shadow-lg: 0 8px 24px rgba(0, 0, 0, 0.2);
            --success-color: #42b72a;
            --danger-color: #e4384f;
            --warning-color: #f7b928;
        }

        body {
            font-family: 'Almarai', 'Cairo', sans-serif;
            background: var(--bg-primary);
            color: var(--text-primary);
            line-height: 1.6;
            overflow-x: hidden;
        }

        /* Splash Screen */
        #splash-screen {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, #0088cc 0%, #00c2a8 100%);
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            z-index: 10000;
            animation: fadeOut 0.5s ease 2s forwards;
        }

        @keyframes fadeOut {
            to {
                opacity: 0;
                visibility: hidden;
            }
        }

        .splash-logo {
            width: 120px;
            height: 120px;
            background: white;
            border-radius: 30px;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-bottom: 20px;
            box-shadow: 0 10px 40px rgba(0, 0, 0, 0.3);
            animation: pulse 1.5s ease-in-out infinite;
        }

        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.05); }
        }

        .splash-logo i {
            font-size: 60px;
            background: linear-gradient(135deg, #ec4899, #f472b6);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .splash-text {
            color: white;
            font-size: 32px;
            font-weight: 800;
            text-shadow: 0 2px 10px rgba(0, 0, 0, 0.2);
        }

        /* Login Screen */
        #login-screen {
            display: none;
            min-height: 100vh;
            background: linear-gradient(135deg, #ec4899 0%, #f472b6 100%);
            padding: 20px;
            position: relative;
            overflow: hidden;
        }

        #login-screen::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: radial-gradient(circle, rgba(255, 255, 255, 0.1) 1px, transparent 1px);
            background-size: 50px 50px;
            animation: moveBackground 20s linear infinite;
        }

        @keyframes moveBackground {
            to { transform: translate(25px, 25px); }
        }

        .login-container {
            max-width: 400px;
            margin: 50px auto;
            position: relative;
            z-index: 1;
        }

        .login-logo {
            text-align: center;
            margin-bottom: 40px;
            animation: slideDown 0.6s ease;
        }

        @keyframes slideDown {
            from {
                opacity: 0;
                transform: translateY(-30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .login-logo-icon {
            width: 100px;
            height: 100px;
            background: white;
            border-radius: 25px;
            margin: 0 auto 20px;
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
        }

        .login-logo-icon i {
            font-size: 50px;
            background: linear-gradient(135deg, #ec4899, #f472b6);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .login-logo h1 {
            color: white;
            font-size: 36px;
            font-weight: 900;
            text-shadow: 0 2px 10px rgba(0, 0, 0, 0.2);
        }

        .login-logo p {
            color: rgba(255, 255, 255, 0.9);
            font-size: 16px;
            margin-top: 10px;
        }

        .login-card {
            background: white;
            border-radius: 20px;
            padding: 40px;
            box-shadow: 0 10px 50px rgba(0, 0, 0, 0.2);
            animation: slideUp 0.6s ease 0.2s backwards;
        }

        @keyframes slideUp {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .form-group {
            margin-bottom: 20px;
        }

        .form-group label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
            color: var(--text-primary);
        }

        .form-input {
            width: 100%;
            padding: 14px 16px;
            border: 2px solid var(--border-color);
            border-radius: 12px;
            font-size: 16px;
            font-family: inherit;
            transition: all 0.3s ease;
            background: var(--bg-primary);
        }

        .form-input:focus {
            outline: none;
            border-color: var(--primary-color);
            background: white;
            box-shadow: 0 0 0 4px rgba(0, 136, 204, 0.1);
        }

        .btn {
            width: 100%;
            padding: 14px;
            border: none;
            border-radius: 12px;
            font-size: 16px;
            font-weight: 700;
            cursor: pointer;
            transition: all 0.3s ease;
            font-family: inherit;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
        }

        .btn-primary {
            background: linear-gradient(135deg, #ec4899, #f472b6);
            color: white;
            margin-bottom: 15px;
        }

        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(236, 72, 153, 0.4);
        }

        .btn-google {
            background: white;
            color: #333;
            border: 2px solid var(--border-color);
            margin-bottom: 15px;
        }

        .btn-google:hover {
            background: var(--bg-primary);
            border-color: var(--primary-color);
        }

        .btn-secondary {
            background: var(--bg-primary);
            color: var(--primary-color);
            border: 2px solid var(--primary-color);
        }

        .btn-secondary:hover {
            background: var(--primary-color);
            color: white;
        }

        .divider {
            text-align: center;
            margin: 25px 0;
            position: relative;
        }

        .divider::before {
            content: '';
            position: absolute;
            top: 50%;
            left: 0;
            right: 0;
            height: 1px;
            background: var(--border-color);
        }

        .divider span {
            background: white;
            padding: 0 15px;
            position: relative;
            color: var(--text-secondary);
            font-size: 14px;
        }

        .language-selector {
            text-align: center;
            margin-top: 20px;
            padding-top: 20px;
            border-top: 1px solid var(--border-color);
        }

        .language-selector select {
            padding: 8px 16px;
            border: 2px solid var(--border-color);
            border-radius: 8px;
            font-family: inherit;
            cursor: pointer;
            background: white;
        }

        /* Main App Container */
        #app-container {
            display: none;
        }

        /* Header / Navbar */
        .navbar {
            background: var(--bg-secondary);
            border-bottom: 1px solid var(--border-color);
            padding: 8px 16px;
            position: sticky;
            top: 0;
            z-index: 1000;
            box-shadow: var(--shadow-sm);
        }

        .navbar-content {
            max-width: 1400px;
            margin: 0 auto;
            display: flex;
            align-items: center;
            justify-content: space-between;
        }

        .navbar-right {
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .navbar-logo {
            display: flex;
            align-items: center;
            gap: 10px;
            text-decoration: none;
            color: var(--primary-color);
        }

        .navbar-logo-icon {
            width: 40px;
            height: 40px;
            background: linear-gradient(135deg, #ec4899, #f472b6);
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .navbar-logo-icon i {
            color: white;
            font-size: 20px;
        }

        .navbar-logo span {
            font-size: 24px;
            font-weight: 800;
        }

        .search-box {
            flex: 1;
            max-width: 600px;
            margin: 0 20px;
        }

        .search-input {
            width: 100%;
            padding: 10px 16px 10px 40px;
            border: none;
            border-radius: 50px;
            background: var(--bg-primary);
            font-size: 15px;
            font-family: inherit;
        }

        .search-box {
            position: relative;
        }

        .search-box i {
            position: absolute;
            right: 15px;
            top: 50%;
            transform: translateY(-50%);
            color: var(--text-secondary);
        }

        .navbar-icons {
            display: flex;
            gap: 8px;
        }

        .nav-icon {
            width: 48px;
            height: 48px;
            border-radius: 50%;
            background: var(--bg-primary);
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.3s ease;
            position: relative;
            font-size: 22px;
        }

        .nav-icon:hover {
            background: var(--hover-bg);
        }

        .nav-icon.active {
            background: var(--primary-color);
            color: white;
        }

        .notification-badge {
            position: absolute;
            top: -4px;
            left: -4px;
            background: var(--danger-color);
            color: white;
            font-size: 11px;
            font-weight: 700;
            padding: 2px 6px;
            border-radius: 10px;
            border: 2px solid var(--bg-secondary);
        }

        .user-avatar {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            cursor: pointer;
            border: 2px solid var(--primary-color);
        }

        /* Navigation Tabs */
        .nav-tabs {
            background: var(--bg-secondary);
            border-bottom: 1px solid var(--border-color);
            padding: 0;
        }

        .nav-tabs-content {
            max-width: 1400px;
            margin: 0 auto;
            display: flex;
            justify-content: center;
            gap: 20px;
        }

        .nav-tab {
            padding: 12px 24px;
            cursor: pointer;
            border-bottom: 3px solid transparent;
            transition: all 0.3s ease;
            color: var(--text-secondary);
            font-weight: 600;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .nav-tab:hover {
            background: var(--hover-bg);
            border-bottom-color: var(--border-color);
        }

        .nav-tab.active {
            color: var(--primary-color);
            border-bottom-color: var(--primary-color);
        }

        /* Main Layout */
        .main-container {
            max-width: 1400px;
            margin: 0 auto;
            display: grid;
            grid-template-columns: 280px 1fr 320px;
            gap: 20px;
            padding: 20px;
        }

        /* Sidebar */
        .sidebar {
            position: sticky;
            top: 80px;
            height: fit-content;
        }

        .sidebar-menu {
            background: var(--bg-secondary);
            border-radius: 12px;
            padding: 12px 0;
            box-shadow: var(--shadow-sm);
        }

        .sidebar-item {
            padding: 12px 16px;
            display: flex;
            align-items: center;
            gap: 12px;
            cursor: pointer;
            transition: all 0.3s ease;
            color: var(--text-primary);
            text-decoration: none;
        }

        .sidebar-item:hover {
            background: var(--hover-bg);
        }

        .sidebar-item.active {
            background: var(--primary-color);
            color: white;
        }

        .sidebar-item i {
            width: 36px;
            height: 36px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 20px;
        }

        /* Content Area */
        .content-area {
            padding: 0;
        }

        /* Create Post Card */
        .create-post-card {
            background: var(--bg-secondary);
            border-radius: 12px;
            padding: 16px;
            margin-bottom: 20px;
            box-shadow: var(--shadow-sm);
        }

        .create-post-header {
            display: flex;
            gap: 12px;
            margin-bottom: 12px;
        }

        .create-post-input {
            flex: 1;
            padding: 12px 16px;
            border: none;
            border-radius: 50px;
            background: var(--bg-primary);
            font-size: 16px;
            font-family: inherit;
            cursor: pointer;
        }

        .create-post-actions {
            display: flex;
            gap: 12px;
            padding-top: 12px;
            border-top: 1px solid var(--border-color);
        }

        .post-action-btn {
            flex: 1;
            padding: 10px;
            border: none;
            background: none;
            border-radius: 8px;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
            font-weight: 600;
            transition: all 0.3s ease;
        }

        .post-action-btn:hover {
            background: var(--hover-bg);
        }

        .post-action-btn i {
            font-size: 20px;
        }

        /* Post Card */
        .post-card {
            background: var(--bg-secondary);
            border-radius: 12px;
            margin-bottom: 20px;
            box-shadow: var(--shadow-sm);
            animation: fadeInUp 0.4s ease;
        }

        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .post-header {
            padding: 16px;
            display: flex;
            align-items: center;
            justify-content: space-between;
        }

        .post-author {
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .post-author-avatar {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            border: 2px solid var(--primary-color);
        }

        .post-author-info h4 {
            font-size: 15px;
            font-weight: 700;
            margin-bottom: 2px;
        }

        .post-author-info p {
            font-size: 13px;
            color: var(--text-secondary);
        }

        .post-menu-btn {
            width: 36px;
            height: 36px;
            border-radius: 50%;
            background: none;
            border: none;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s ease;
        }

        .post-menu-btn:hover {
            background: var(--hover-bg);
        }

        .post-content {
            padding: 0 16px 16px;
        }

        .post-text {
            margin-bottom: 12px;
            line-height: 1.5;
        }

        .post-image {
            width: 100%;
            border-radius: 8px;
            margin-top: 12px;
        }

        .post-stats {
            padding: 12px 16px;
            display: none;
            justify-content: space-between;
            border-top: 1px solid var(--border-color);
            border-bottom: 1px solid var(--border-color);
        }

        .post-stat {
            color: var(--text-secondary);
            font-size: 14px;
            cursor: pointer;
        }

        .post-stat:hover {
            text-decoration: underline;
        }

        .post-actions {
            padding: 8px;
            display: flex;
            gap: 8px;
        }

        .post-action {
            flex: 1;
            padding: 12px;
            border: none;
            background: none;
            border-radius: 8px;
            cursor: pointer;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            gap: 6px;
            font-weight: 600;
            transition: all 0.3s ease;
            color: var(--text-secondary);
            position: relative;
        }

        .post-action-icon {
            font-size: 22px;
        }

        .post-action-text {
            font-size: 13px;
        }

        .post-action-count {
            font-size: 12px;
            font-weight: 700;
            color: var(--primary-color);
        }

        .post-action:hover {
            background: var(--hover-bg);
        }

        .post-action.liked {
            color: var(--danger-color);
        }

        /* Right Sidebar */
        .right-sidebar {
            position: sticky;
            top: 80px;
            height: fit-content;
        }

        .sidebar-section {
            background: var(--bg-secondary);
            border-radius: 12px;
            padding: 16px;
            margin-bottom: 20px;
            box-shadow: var(--shadow-sm);
        }

        .sidebar-section h3 {
            font-size: 16px;
            font-weight: 700;
            margin-bottom: 16px;
        }

        .contact-item {
            display: flex;
            align-items: center;
            gap: 12px;
            padding: 8px;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s ease;
            margin-bottom: 8px;
        }

        .contact-item:hover {
            background: var(--hover-bg);
        }

        .contact-avatar {
            width: 36px;
            height: 36px;
            border-radius: 50%;
            position: relative;
        }

        .online-indicator {
            position: absolute;
            bottom: 0;
            left: 0;
            width: 12px;
            height: 12px;
            background: var(--success-color);
            border: 2px solid var(--bg-secondary);
            border-radius: 50%;
        }

        .contact-name {
            font-size: 14px;
            font-weight: 600;
        }

        /* Profile Page */
        .profile-header {
            background: var(--bg-secondary);
            border-radius: 12px;
            overflow: hidden;
            margin-bottom: 20px;
            box-shadow: var(--shadow-sm);
        }

        .profile-cover {
            height: 300px;
            background: linear-gradient(135deg, #ec4899, #f472b6);
            position: relative;
        }

        .profile-info {
            padding: 20px;
            position: relative;
            margin-top: -80px;
        }

        .profile-avatar-large {
            width: 168px;
            height: 168px;
            border-radius: 50%;
            border: 6px solid var(--bg-secondary);
            margin: 0 auto;
            display: block;
        }

        .profile-name {
            text-align: center;
            margin-top: 16px;
        }

        .profile-name h2 {
            font-size: 32px;
            font-weight: 800;
            margin-bottom: 8px;
        }

        .profile-name p {
            color: var(--text-secondary);
            font-size: 16px;
        }

        .profile-stats {
            display: flex;
            justify-content: center;
            gap: 40px;
            margin-top: 20px;
            padding-top: 20px;
            border-top: 1px solid var(--border-color);
        }

        .profile-stat {
            text-align: center;
        }

        .profile-stat-value {
            font-size: 24px;
            font-weight: 700;
            color: var(--primary-color);
        }

        .profile-stat-label {
            font-size: 14px;
            color: var(--text-secondary);
            margin-top: 4px;
        }

        /* Settings Page */
        .settings-container {
            background: var(--bg-secondary);
            border-radius: 12px;
            padding: 24px;
            box-shadow: var(--shadow-sm);
        }

        .settings-section {
            margin-bottom: 32px;
            padding-bottom: 32px;
            border-bottom: 1px solid var(--border-color);
        }

        .settings-section:last-child {
            border-bottom: none;
        }

        .settings-section h3 {
            font-size: 20px;
            font-weight: 700;
            margin-bottom: 16px;
        }

        .settings-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 16px;
            border-radius: 8px;
            margin-bottom: 12px;
            background: var(--bg-primary);
        }

        .settings-item-info h4 {
            font-size: 16px;
            font-weight: 600;
            margin-bottom: 4px;
        }

        .settings-item-info p {
            font-size: 14px;
            color: var(--text-secondary);
        }

        .toggle-switch {
            position: relative;
            width: 50px;
            height: 28px;
            background: var(--border-color);
            border-radius: 14px;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .toggle-switch.active {
            background: var(--primary-color);
        }

        .toggle-switch::after {
            content: '';
            position: absolute;
            top: 3px;
            right: 3px;
            width: 22px;
            height: 22px;
            background: white;
            border-radius: 50%;
            transition: all 0.3s ease;
        }

        .toggle-switch.active::after {
            right: 25px;
        }

        /* Notifications Page */
        .notification-card {
            background: var(--bg-secondary);
            border-radius: 12px;
            padding: 16px;
            margin-bottom: 12px;
            display: flex;
            gap: 12px;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: var(--shadow-sm);
        }

        .notification-card:hover {
            background: var(--hover-bg);
        }

        .notification-card.unread {
            background: rgba(0, 136, 204, 0.05);
            border-right: 4px solid var(--primary-color);
        }

        .notification-icon {
            width: 56px;
            height: 56px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            background: var(--bg-primary);
        }

        .notification-content {
            flex: 1;
        }

        .notification-content h4 {
            font-size: 15px;
            font-weight: 600;
            margin-bottom: 4px;
        }

        .notification-content p {
            font-size: 14px;
            color: var(--text-secondary);
            margin-bottom: 4px;
        }

        .notification-time {
            font-size: 13px;
            color: var(--primary-color);
        }

        /* Responsive Design */
        @media (max-width: 1200px) {
            .main-container {
                grid-template-columns: 1fr;
            }

            .sidebar,
            .right-sidebar {
                display: none;
            }

            .search-box {
                display: none;
            }
        }

        @media (max-width: 768px) {
            .navbar-logo span {
                display: none;
            }

            .nav-tabs {
                overflow-x: auto;
            }

            .nav-tabs-content {
                justify-content: flex-start;
            }

            .profile-cover {
                height: 200px;
            }
        }

        /* Loading Animation */
        .loading {
            display: inline-block;
            width: 20px;
            height: 20px;
            border: 3px solid rgba(255, 255, 255, 0.3);
            border-radius: 50%;
            border-top-color: white;
            animation: spin 0.8s linear infinite;
        }

        @keyframes spin {
            to { transform: rotate(360deg); }
        }

        /* Modal */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.6);
            z-index: 9999;
            align-items: center;
            justify-content: center;
            animation: fadeIn 0.3s ease;
        }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        .modal-content {
            background: white;
            border-radius: 16px;
            padding: 24px;
            max-width: 500px;
            width: 90%;
            max-height: 80vh;
            overflow-y: auto;
            animation: slideUpModal 0.3s ease;
        }

        @keyframes slideUpModal {
            from {
                opacity: 0;
                transform: translateY(50px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
            padding-bottom: 16px;
            border-bottom: 1px solid var(--border-color);
        }

        .modal-header h3 {
            font-size: 20px;
            font-weight: 700;
        }

        .modal-close {
            width: 36px;
            height: 36px;
            border-radius: 50%;
            background: var(--bg-primary);
            border: none;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 20px;
        }

        .modal-close:hover {
            background: var(--hover-bg);
        }

        /* Toast Notification */
        .toast {
            position: fixed;
            bottom: 20px;
            left: 50%;
            transform: translateX(-50%) translateY(100px);
            background: var(--text-primary);
            color: white;
            padding: 16px 24px;
            border-radius: 12px;
            box-shadow: var(--shadow-lg);
            z-index: 10001;
            animation: toastSlideUp 0.4s ease forwards;
        }

        @keyframes toastSlideUp {
            to {
                transform: translateX(-50%) translateY(0);
            }
        }

        .toast.success {
            background: var(--success-color);
        }

        .toast.error {
            background: var(--danger-color);
        }

        /* Hide elements by default */
        .page {
            display: none;
        }

        .page.active {
            display: block;
        }

        /* Install Button */
        #install-container {
            position: fixed;
            bottom: 20px;
            left: 50%;
            transform: translateX(-50%);
            z-index: 9998;
            display: none;
            animation: slideUpBounce 0.5s ease;
        }

        @keyframes slideUpBounce {
            0% {
                opacity: 0;
                transform: translateX(-50%) translateY(100px);
            }
            70% {
                transform: translateX(-50%) translateY(-10px);
            }
            100% {
                opacity: 1;
                transform: translateX(-50%) translateY(0);
            }
        }

        #install-button {
            background: linear-gradient(135deg, #ec4899, #f472b6);
            color: white;
            padding: 16px 32px;
            border: none;
            border-radius: 50px;
            font-size: 16px;
            font-weight: 700;
            cursor: pointer;
            box-shadow: 0 8px 24px rgba(236, 72, 153, 0.4);
            display: flex;
            align-items: center;
            gap: 12px;
            transition: all 0.3s ease;
            font-family: inherit;
        }

        #install-button:hover {
            transform: translateY(-3px);
            box-shadow: 0 12px 32px rgba(236, 72, 153, 0.5);
        }

        #install-button:active {
            transform: translateY(-1px);
        }

        #install-close {
            position: absolute;
            top: -10px;
            right: -10px;
            width: 28px;
            height: 28px;
            background: white;
            border: 2px solid var(--primary-color);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            font-size: 14px;
            color: var(--primary-color);
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.2);
        }

        /* Mobile optimizations */
        @media (max-width: 768px) {
            #install-button {
                padding: 14px 24px;
                font-size: 14px;
            }

            .navbar {
                padding: 8px 12px;
            }

            .main-container {
                padding: 12px;
            }

            .create-post-actions {
                flex-direction: column;
                gap: 8px;
            }

            .post-action-btn {
                width: 100%;
            }
        }

        /* Pull to refresh indicator */
        .pull-to-refresh {
            position: fixed;
            top: -60px;
            left: 50%;
            transform: translateX(-50%);
            width: 60px;
            height: 60px;
            background: var(--primary-color);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 24px;
            box-shadow: var(--shadow-md);
            transition: top 0.3s ease;
            z-index: 1001;
        }

        .pull-to-refresh.visible {
            top: 20px;
        }

        /* iOS safe area support */
        @supports (padding: env(safe-area-inset-top)) {
            .navbar {
                padding-top: calc(8px + env(safe-area-inset-top));
            }

            #install-container {
                bottom: calc(20px + env(safe-area-inset-bottom));
            }
        }

        /* Offline indicator */
        .offline-indicator {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            background: var(--danger-color);
            color: white;
            padding: 12px;
            text-align: center;
            font-weight: 600;
            z-index: 10000;
            transform: translateY(-100%);
            transition: transform 0.3s ease;
        }

        .offline-indicator.show {
            transform: translateY(0);
        }
    </style>
</head>
<body>
    <!-- Offline Indicator -->
    <div class="offline-indicator" id="offline-indicator">
        <i class="fas fa-wifi-slash"></i>
        <span data-i18n="offline">ÿ£ŸÜÿ™ ÿ∫Ÿäÿ± ŸÖÿ™ÿµŸÑ ÿ®ÿßŸÑÿ•ŸÜÿ™ÿ±ŸÜÿ™</span>
    </div>

    <!-- Pull to Refresh Indicator -->
    <div class="pull-to-refresh" id="pull-refresh">
        <i class="fas fa-sync-alt"></i>
    </div>

    <!-- Install Button -->
    <div id="install-container">
        <button id="install-button">
            <i class="fas fa-download"></i>
            <span data-i18n="installApp">ÿ™ÿ´ÿ®Ÿäÿ™ ÿßŸÑÿ™ÿ∑ÿ®ŸäŸÇ ÿπŸÑŸâ Ÿáÿßÿ™ŸÅŸÉ</span>
        </button>
        <div id="install-close">‚úï</div>
    </div>

    <!-- Splash Screen -->
    <div id="splash-screen">
        <div class="splash-logo">
            <i class="fas fa-heartbeat"></i>
        </div>
        <div class="splash-text">MedicalMinds</div>
    </div>

    <!-- Login Screen -->
    <div id="login-screen">
        <div class="login-container">
            <div class="login-logo">
                <div class="login-logo-icon">
                    <i class="fas fa-heartbeat"></i>
                </div>
                <h1>MedicalMinds</h1>
                <p>ÿßŸÑÿ¥ÿ®ŸÉÿ© ÿßŸÑÿ∑ÿ®Ÿäÿ© ÿßŸÑŸÖÿ™ÿÆÿµÿµÿ©</p>
            </div>

            <div class="login-card">
                <form id="login-form">
                    <div class="form-group">
                        <label for="email" data-i18n="email">ÿßŸÑÿ®ÿ±ŸäÿØ ÿßŸÑÿ•ŸÑŸÉÿ™ÿ±ŸàŸÜŸä</label>
                        <input type="email" id="email" class="form-input" placeholder="example@medical.com" required>
                    </div>

                    <div class="form-group">
                        <label for="password" data-i18n="password">ŸÉŸÑŸÖÿ© ÿßŸÑŸÖÿ±Ÿàÿ±</label>
                        <input type="password" id="password" class="form-input" placeholder="********" required>
                    </div>

                    <button type="submit" class="btn btn-primary">
                        <i class="fas fa-sign-in-alt"></i>
                        <span data-i18n="login">ÿ™ÿ≥ÿ¨ŸäŸÑ ÿßŸÑÿØÿÆŸàŸÑ</span>
                    </button>

                    <button type="button" class="btn btn-google" onclick="loginWithGoogle()">
                        <i class="fab fa-google"></i>
                        <span data-i18n="googleLogin">ÿ™ÿ≥ÿ¨ŸäŸÑ ÿßŸÑÿØÿÆŸàŸÑ ÿ®Ÿàÿßÿ≥ÿ∑ÿ© Google</span>
                    </button>

                    <div class="divider">
                        <span data-i18n="or">ÿ£Ÿà</span>
                    </div>

                    <button type="button" class="btn btn-secondary" onclick="showRegisterModal()">
                        <i class="fas fa-user-plus"></i>
                        <span data-i18n="createAccount">ÿ•ŸÜÿ¥ÿßÿ° ÿ≠ÿ≥ÿßÿ® ÿ¨ÿØŸäÿØ</span>
                    </button>
                </form>

                <div class="language-selector">
                    <label data-i18n="language">ÿßŸÑŸÑÿ∫ÿ©: </label>
                    <select id="language-select" onchange="changeLanguage(this.value)">
                        <option value="ar">ÿßŸÑÿπÿ±ÿ®Ÿäÿ©</option>
                        <option value="en">English</option>
                        <option value="fr">Fran√ßais</option>
                        <option value="es">Espa√±ol</option>
                    </select>
                </div>
            </div>
        </div>
    </div>

    <!-- Main App Container -->
    <div id="app-container">
        <!-- Navigation Bar -->
        <nav class="navbar">
            <div class="navbar-content">
                <div class="navbar-right">
                    <a href="#" class="navbar-logo">
                        <div class="navbar-logo-icon">
                            <i class="fas fa-heartbeat"></i>
                        </div>
                        <span>MedicalMinds</span>
                    </a>

                    <div class="search-box">
                        <i class="fas fa-search"></i>
                        <input type="text" class="search-input" placeholder="ÿ®ÿ≠ÿ´ ŸÅŸä MedicalMinds" data-i18n-placeholder="search">
                    </div>
                </div>

                <div class="navbar-icons">
                    <div class="nav-icon" onclick="showPage('home')" title="ÿßŸÑÿ±ÿ¶Ÿäÿ≥Ÿäÿ©">
                        <i class="fas fa-home"></i>
                    </div>
                    <div class="nav-icon" onclick="showPage('notifications')" title="ÿßŸÑÿ•ÿ¥ÿπÿßÿ±ÿßÿ™">
                        <i class="fas fa-bell"></i>
                        <span class="notification-badge">5</span>
                    </div>
                    <div class="nav-icon" onclick="showPage('messages')" title="ÿßŸÑÿ±ÿ≥ÿßÿ¶ŸÑ">
                        <i class="fas fa-envelope"></i>
                        <span class="notification-badge">3</span>
                    </div>
                    <div class="nav-icon" onclick="showPage('profile')" title="ÿßŸÑŸÖŸÑŸÅ ÿßŸÑÿ¥ÿÆÿµŸä">
                        <i class="fas fa-user"></i>
                    </div>
                    <div class="nav-icon" onclick="showPage('settings')" title="ÿßŸÑÿ•ÿπÿØÿßÿØÿßÿ™">
                        <i class="fas fa-cog"></i>
                    </div>
                    <img src="https://i.pravatar.cc/150?img=12" alt="User" class="user-avatar" onclick="showUserMenu()">
                </div>
            </div>
        </nav>

        <!-- Home Page -->
        <div id="home-page" class="page active">
            <div class="main-container">
                <!-- Left Sidebar -->
                <aside class="sidebar">
                    <div class="sidebar-menu">
                        <a href="#" class="sidebar-item active">
                            <i class="fas fa-home"></i>
                            <span data-i18n="home">ÿßŸÑÿ±ÿ¶Ÿäÿ≥Ÿäÿ©</span>
                        </a>
                        <a href="#" class="sidebar-item">
                            <i class="fas fa-user-md"></i>
                            <span data-i18n="doctors">ÿßŸÑÿ£ÿ∑ÿ®ÿßÿ°</span>
                        </a>
                        <a href="#" class="sidebar-item">
                            <i class="fas fa-hospital"></i>
                            <span data-i18n="hospitals">ÿßŸÑŸÖÿ≥ÿ™ÿ¥ŸÅŸäÿßÿ™</span>
                        </a>
                        <a href="#" class="sidebar-item">
                            <i class="fas fa-pills"></i>
                            <span data-i18n="pharmacy">ÿßŸÑÿµŸäÿØŸÑŸäÿ©</span>
                        </a>
                        <a href="#" class="sidebar-item">
                            <i class="fas fa-book-medical"></i>
                            <span data-i18n="medicalLibrary">ÿßŸÑŸÖŸÉÿ™ÿ®ÿ© ÿßŸÑÿ∑ÿ®Ÿäÿ©</span>
                        </a>
                        <a href="#" class="sidebar-item">
                            <i class="fas fa-video"></i>
                            <span data-i18n="conferences">ŸÖÿ§ÿ™ŸÖÿ±ÿßÿ™ ÿ∑ÿ®Ÿäÿ©</span>
                        </a>
                        <a href="#" class="sidebar-item">
                            <i class="fas fa-briefcase-medical"></i>
                            <span data-i18n="jobs">Ÿàÿ∏ÿßÿ¶ŸÅ ÿ∑ÿ®Ÿäÿ©</span>
                        </a>
                    </div>
                </aside>

                <!-- Main Content -->
                <main class="content-area">
                    <!-- Create Post Card -->
                    <div class="create-post-card">
                        <div class="create-post-header">
                            <img src="https://i.pravatar.cc/150?img=12" alt="User" class="user-avatar">
                            <input type="text" class="create-post-input" placeholder="ŸÖÿß ÿßŸÑÿ∞Ÿä ÿ™ŸÅŸÉÿ± ŸÅŸäŸáÿü" onclick="showCreatePostModal()" data-i18n-placeholder="whatsOnYourMind">
                        </div>
                        <div class="create-post-actions">
                            <button class="post-action-btn" onclick="showCreatePostModal()">
                                <i class="fas fa-image" style="color: #45bd62;"></i>
                                <span data-i18n="photo">ÿµŸàÿ±ÿ©</span>
                            </button>
                            <button class="post-action-btn" onclick="showCreatePostModal()">
                                <i class="fas fa-video" style="color: #f3425f;"></i>
                                <span data-i18n="video">ŸÅŸäÿØŸäŸà</span>
                            </button>
                            <button class="post-action-btn" onclick="showCreatePostModal()">
                                <i class="fas fa-file-medical" style="color: #f7b928;"></i>
                                <span data-i18n="medicalCase">ÿ≠ÿßŸÑÿ© ÿ∑ÿ®Ÿäÿ©</span>
                            </button>
                        </div>
                    </div>

                    <!-- Posts Feed -->
                    <div id="posts-feed">
                        <!-- Post 1 -->
                        <div class="post-card">
                            <div class="post-header">
                                <div class="post-author">
                                    <img src="https://i.pravatar.cc/150?img=33" alt="Doctor" class="post-author-avatar">
                                    <div class="post-author-info">
                                        <h4>ÿØ. ÿ£ÿ≠ŸÖÿØ ŸÖÿ≠ŸÖŸàÿØ</h4>
                                        <p>ÿßÿ≥ÿ™ÿ¥ÿßÿ±Ÿä ÿ£ŸÖÿ±ÿßÿ∂ ÿßŸÑŸÇŸÑÿ® ‚Ä¢ ŸÖŸÜÿ∞ ÿ≥ÿßÿπÿ™ŸäŸÜ</p>
                                    </div>
                                </div>
                                <button class="post-menu-btn">
                                    <i class="fas fa-ellipsis-h"></i>
                                </button>
                            </div>
                            <div class="post-content">
                                <p class="post-text">ŸÖÿ¥ÿßÿ±ŸÉÿ© ŸÖÿπŸÑŸàŸÖÿßÿ™ ŸáÿßŸÖÿ© ÿ≠ŸàŸÑ ÿßŸÑŸàŸÇÿßŸäÿ© ŸÖŸÜ ÿ£ŸÖÿ±ÿßÿ∂ ÿßŸÑŸÇŸÑÿ® ü´Ä ŸäŸèÿπÿ™ÿ®ÿ± ÿßŸÑŸÜÿ∏ÿßŸÖ ÿßŸÑÿ∫ÿ∞ÿßÿ¶Ÿä ÿßŸÑÿµÿ≠Ÿä ŸàŸÖŸÖÿßÿ±ÿ≥ÿ© ÿßŸÑÿ±Ÿäÿßÿ∂ÿ© ŸÖŸÜ ÿ£ŸáŸÖ ÿßŸÑÿπŸàÿßŸÖŸÑ ŸÑŸÑÿ≠ŸÅÿßÿ∏ ÿπŸÑŸâ ÿµÿ≠ÿ© ÿßŸÑŸÇŸÑÿ®. ÿ™ÿ∞ŸÉÿ± ÿØÿßÿ¶ŸÖÿßŸã: ÿßŸÑŸàŸÇÿßŸäÿ© ÿÆŸäÿ± ŸÖŸÜ ÿßŸÑÿπŸÑÿßÿ¨!</p>
                                <img src="https://images.unsplash.com/photo-1559757175-5700dde675bc?w=800&q=80" alt="Medical" class="post-image">
                            </div>
                            <div class="post-actions">
                                <button class="post-action" onclick="toggleLike(this)">
                                    <i class="far fa-heart post-action-icon"></i>
                                    <span class="post-action-text" data-i18n="like">ÿ•ÿπÿ¨ÿßÿ®</span>
                                    <span class="post-action-count">245</span>
                                </button>
                                <button class="post-action">
                                    <i class="far fa-comment post-action-icon"></i>
                                    <span class="post-action-text" data-i18n="comment">ÿ™ÿπŸÑŸäŸÇ</span>
                                    <span class="post-action-count">32</span>
                                </button>
                                <button class="post-action">
                                    <i class="fas fa-share post-action-icon"></i>
                                    <span class="post-action-text" data-i18n="share">ŸÖÿ¥ÿßÿ±ŸÉÿ©</span>
                                    <span class="post-action-count">18</span>
                                </button>
                            </div>
                        </div>

                        <!-- Post 2 -->
                        <div class="post-card">
                            <div class="post-header">
                                <div class="post-author">
                                    <img src="https://i.pravatar.cc/150?img=45" alt="Doctor" class="post-author-avatar">
                                    <div class="post-author-info">
                                        <h4>ÿØ. ÿ≥ÿßÿ±ÿ© ÿßŸÑÿπŸÑŸä</h4>
                                        <p>ÿ∑ÿ®Ÿäÿ®ÿ© ÿ£ÿ∑ŸÅÿßŸÑ ‚Ä¢ ŸÖŸÜÿ∞ 4 ÿ≥ÿßÿπÿßÿ™</p>
                                    </div>
                                </div>
                                <button class="post-menu-btn">
                                    <i class="fas fa-ellipsis-h"></i>
                                </button>
                            </div>
                            <div class="post-content">
                                <p class="post-text">ŸÜÿµÿßÿ¶ÿ≠ ŸÖŸáŸÖÿ© ŸÑŸÑÿ£ŸÖŸáÿßÿ™: ÿßŸÑÿ™ÿ∑ÿπŸäŸÖÿßÿ™ ÿ∂ÿ±Ÿàÿ±Ÿäÿ© ŸÑÿ≠ŸÖÿßŸäÿ© ÿ£ÿ∑ŸÅÿßŸÑŸÉŸÖ ŸÖŸÜ ÿßŸÑÿ£ŸÖÿ±ÿßÿ∂ ÿßŸÑŸÖÿπÿØŸäÿ©. ÿ™ÿ£ŸÉÿØŸàÿß ŸÖŸÜ ŸÖÿ™ÿßÿ®ÿπÿ© ÿ¨ÿØŸàŸÑ ÿßŸÑÿ™ÿ∑ÿπŸäŸÖÿßÿ™ ÿßŸÑŸÖŸàÿµŸâ ÿ®Ÿá üíâüë∂</p>
                            </div>
                            <div class="post-actions">
                                <button class="post-action" onclick="toggleLike(this)">
                                    <i class="far fa-heart post-action-icon"></i>
                                    <span class="post-action-text" data-i18n="like">ÿ•ÿπÿ¨ÿßÿ®</span>
                                    <span class="post-action-count">189</span>
                                </button>
                                <button class="post-action">
                                    <i class="far fa-comment post-action-icon"></i>
                                    <span class="post-action-text" data-i18n="comment">ÿ™ÿπŸÑŸäŸÇ</span>
                                    <span class="post-action-count">45</span>
                                </button>
                                <button class="post-action">
                                    <i class="fas fa-share post-action-icon"></i>
                                    <span class="post-action-text" data-i18n="share">ŸÖÿ¥ÿßÿ±ŸÉÿ©</span>
                                    <span class="post-action-count">27</span>
                                </button>
                            </div>
                        </div>

                        <!-- Post 3 -->
                        <div class="post-card">
                            <div class="post-header">
                                <div class="post-author">
                                    <img src="https://i.pravatar.cc/150?img=68" alt="Doctor" class="post-author-avatar">
                                    <div class="post-author-info">
                                        <h4>ÿØ. ŸÖÿ≠ŸÖÿØ ÿ≠ÿ≥ŸÜ</h4>
                                        <p>ÿ¨ÿ±ÿßÿ≠ ÿπÿßŸÖ ‚Ä¢ ŸÖŸÜÿ∞ 6 ÿ≥ÿßÿπÿßÿ™</p>
                                    </div>
                                </div>
                                <button class="post-menu-btn">
                                    <i class="fas fa-ellipsis-h"></i>
                                </button>
                            </div>
                            <div class="post-content">
                                <p class="post-text">ÿ•ÿ¨ÿ±ÿßÿ° ÿπŸÖŸÑŸäÿ© ÿ¨ÿ±ÿßÿ≠Ÿäÿ© ŸÜÿßÿ¨ÿ≠ÿ© ÿßŸÑŸäŸàŸÖ ÿ®ÿßÿ≥ÿ™ÿÆÿØÿßŸÖ ÿ™ŸÇŸÜŸäÿ© ÿßŸÑŸÖŸÜÿ∏ÿßÿ± ÿßŸÑÿ≠ÿØŸäÿ´ÿ©. ÿßŸÑÿ™ŸÇÿØŸÖ ÿßŸÑÿ™ŸÉŸÜŸàŸÑŸàÿ¨Ÿä ŸÅŸä ÿßŸÑŸÖÿ¨ÿßŸÑ ÿßŸÑÿ∑ÿ®Ÿä Ÿäÿ≥ÿßÿπÿØŸÜÿß ÿπŸÑŸâ ÿ™ŸÇÿØŸäŸÖ ÿ±ÿπÿßŸäÿ© ÿ£ŸÅÿ∂ŸÑ ŸÑŸÑŸÖÿ±ÿ∂Ÿâ üè•‚öïÔ∏è</p>
                                <img src="https://images.unsplash.com/photo-1631217868264-e5b90bb7e133?w=800&q=80" alt="Surgery" class="post-image">
                            </div>
                            <div class="post-actions">
                                <button class="post-action" onclick="toggleLike(this)">
                                    <i class="far fa-heart post-action-icon"></i>
                                    <span class="post-action-text" data-i18n="like">ÿ•ÿπÿ¨ÿßÿ®</span>
                                    <span class="post-action-count">312</span>
                                </button>
                                <button class="post-action">
                                    <i class="far fa-comment post-action-icon"></i>
                                    <span class="post-action-text" data-i18n="comment">ÿ™ÿπŸÑŸäŸÇ</span>
                                    <span class="post-action-count">56</span>
                                </button>
                                <button class="post-action">
                                    <i class="fas fa-share post-action-icon"></i>
                                    <span class="post-action-text" data-i18n="share">ŸÖÿ¥ÿßÿ±ŸÉÿ©</span>
                                    <span class="post-action-count">34</span>
                                </button>
                            </div>
                        </div>
                    </div>
                </main>

                <!-- Right Sidebar -->
                <aside class="right-sidebar">
                    <div class="sidebar-section">
                        <h3 data-i18n="onlineContacts">ÿ¨Ÿáÿßÿ™ ÿßŸÑÿßÿ™ÿµÿßŸÑ ÿßŸÑŸÖÿ™ÿµŸÑÿ©</h3>
                        <div class="contact-item">
                            <div class="contact-avatar">
                                <img src="https://i.pravatar.cc/150?img=1" alt="Contact" style="width: 100%; height: 100%; border-radius: 50%;">
                                <span class="online-indicator"></span>
                            </div>
                            <span class="contact-name">ÿØ. ŸÅÿßÿ∑ŸÖÿ© ÿ£ÿ≠ŸÖÿØ</span>
                        </div>
                        <div class="contact-item">
                            <div class="contact-avatar">
                                <img src="https://i.pravatar.cc/150?img=8" alt="Contact" style="width: 100%; height: 100%; border-radius: 50%;">
                                <span class="online-indicator"></span>
                            </div>
                            <span class="contact-name">ÿØ. ŸäŸàÿ≥ŸÅ ÿπŸÖÿ±</span>
                        </div>
                        <div class="contact-item">
                            <div class="contact-avatar">
                                <img src="https://i.pravatar.cc/150?img=15" alt="Contact" style="width: 100%; height: 100%; border-radius: 50%;">
                                <span class="online-indicator"></span>
                            </div>
                            <span class="contact-name">ÿØ. ŸÖÿ±ŸäŸÖ ÿÆÿßŸÑÿØ</span>
                        </div>
                    </div>

                    <div class="sidebar-section">
                        <h3 data-i18n="suggestedGroups">ŸÖÿ¨ŸÖŸàÿπÿßÿ™ ŸÖŸÇÿ™ÿ±ÿ≠ÿ©</h3>
                        <div class="contact-item">
                            <div class="contact-avatar">
                                <i class="fas fa-users" style="color: var(--primary-color);"></i>
                            </div>
                            <span class="contact-name">ÿ£ÿ∑ÿ®ÿßÿ° ÿßŸÑŸÇŸÑÿ®</span>
                        </div>
                        <div class="contact-item">
                            <div class="contact-avatar">
                                <i class="fas fa-users" style="color: var(--secondary-color);"></i>
                            </div>
                            <span class="contact-name">ÿ¨ÿ±ÿßÿ≠Ÿà ÿßŸÑÿπÿ∏ÿßŸÖ</span>
                        </div>
                    </div>
                </aside>
            </div>
        </div>

        <!-- Notifications Page -->
        <div id="notifications-page" class="page">
            <div class="main-container" style="grid-template-columns: 1fr;">
                <div class="content-area">
                    <div class="settings-container">
                        <h2 style="margin-bottom: 24px; font-size: 28px;" data-i18n="notifications">ÿßŸÑÿ•ÿ¥ÿπÿßÿ±ÿßÿ™</h2>
                        
                        <div class="notification-card unread">
                            <div class="notification-icon">
                                <i class="fas fa-heart" style="color: var(--danger-color); font-size: 24px;"></i>
                            </div>
                            <div class="notification-content">
                                <h4><strong>ÿØ. ÿ£ÿ≠ŸÖÿØ ŸÖÿ≠ŸÖŸàÿØ</strong> ÿ£ÿπÿ¨ÿ® ÿ®ŸÖŸÜÿ¥Ÿàÿ±ŸÉ</h4>
                                <p>ŸÖŸÜÿ¥Ÿàÿ± ÿ≠ŸàŸÑ "ÿ£ÿ≠ÿØÿ´ ÿßŸÑÿ™ÿ∑Ÿàÿ±ÿßÿ™ ŸÅŸä ÿπŸÑÿßÿ¨ ÿßŸÑÿ≥ŸÉÿ±Ÿä"</p>
                                <span class="notification-time">ŸÖŸÜÿ∞ 5 ÿØŸÇÿßÿ¶ŸÇ</span>
                            </div>
                        </div>

                        <div class="notification-card unread">
                            <div class="notification-icon">
                                <i class="fas fa-comment" style="color: var(--primary-color); font-size: 24px;"></i>
                            </div>
                            <div class="notification-content">
                                <h4><strong>ÿØ. ÿ≥ÿßÿ±ÿ© ÿßŸÑÿπŸÑŸä</strong> ÿπŸÑŸÇÿ™ ÿπŸÑŸâ ŸÖŸÜÿ¥Ÿàÿ±ŸÉ</h4>
                                <p>"ŸÖÿπŸÑŸàŸÖÿßÿ™ ŸÇŸäŸÖÿ© ÿ¨ÿØÿßŸãÿå ÿ¥ŸÉÿ±ÿßŸã ÿπŸÑŸâ ÿßŸÑŸÖÿ¥ÿßÿ±ŸÉÿ©"</p>
                                <span class="notification-time">ŸÖŸÜÿ∞ 15 ÿØŸÇŸäŸÇÿ©</span>
                            </div>
                        </div>

                        <div class="notification-card">
                            <div class="notification-icon">
                                <i class="fas fa-user-plus" style="color: var(--success-color); font-size: 24px;"></i>
                            </div>
                            <div class="notification-content">
                                <h4><strong>ÿØ. ŸÖÿ≠ŸÖÿØ ÿ≠ÿ≥ŸÜ</strong> ÿ®ÿØÿ£ ÿ®ŸÖÿ™ÿßÿ®ÿπÿ™ŸÉ</h4>
                                <p>ÿ¨ÿ±ÿßÿ≠ ÿπÿßŸÖ ŸÅŸä ŸÖÿ≥ÿ™ÿ¥ŸÅŸâ ÿßŸÑŸÖŸÑŸÉ ŸÅŸäÿµŸÑ</p>
                                <span class="notification-time">ŸÖŸÜÿ∞ ÿ≥ÿßÿπÿ© Ÿàÿßÿ≠ÿØÿ©</span>
                            </div>
                        </div>

                        <div class="notification-card">
                            <div class="notification-icon">
                                <i class="fas fa-share" style="color: var(--warning-color); font-size: 24px;"></i>
                            </div>
                            <div class="notification-content">
                                <h4><strong>ÿØ. ŸÑŸäŸÑŸâ ÿ•ÿ®ÿ±ÿßŸáŸäŸÖ</strong> ÿ¥ÿßÿ±ŸÉÿ™ ŸÖŸÜÿ¥Ÿàÿ±ŸÉ</h4>
                                <p>ÿ™ŸÖÿ™ ŸÖÿ¥ÿßÿ±ŸÉÿ© ÿßŸÑŸÖŸÜÿ¥Ÿàÿ± ŸÖÿπ 150 ŸÖÿ™ÿßÿ®ÿπ</p>
                                <span class="notification-time">ŸÖŸÜÿ∞ ÿ≥ÿßÿπÿ™ŸäŸÜ</span>
                            </div>
                        </div>

                        <div class="notification-card">
                            <div class="notification-icon">
                                <i class="fas fa-calendar" style="color: var(--secondary-color); font-size: 24px;"></i>
                            </div>
                            <div class="notification-content">
                                <h4>ÿ™ÿ∞ŸÉŸäÿ± ÿ®ŸÖÿ§ÿ™ŸÖÿ± ÿ∑ÿ®Ÿä</h4>
                                <p>ŸÖÿ§ÿ™ŸÖÿ± ÿßŸÑÿ∑ÿ® ÿßŸÑÿ≠ÿØŸäÿ´ 2024 Ÿäÿ®ÿØÿ£ ÿ∫ÿØÿßŸã ÿßŸÑÿ≥ÿßÿπÿ© 9 ÿµÿ®ÿßÿ≠ÿßŸã</p>
                                <span class="notification-time">ŸÖŸÜÿ∞ 4 ÿ≥ÿßÿπÿßÿ™</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Profile Page -->
        <div id="profile-page" class="page">
            <div class="main-container" style="grid-template-columns: 1fr;">
                <div class="content-area">
                    <div class="profile-header">
                        <div class="profile-cover"></div>
                        <div class="profile-info">
                            <img src="https://i.pravatar.cc/150?img=12" alt="Profile" class="profile-avatar-large">
                            <div class="profile-name">
                                <h2>ÿØ. ÿπŸÖÿ± ÿßŸÑÿ≥ÿßŸÑŸÖ</h2>
                                <p>ÿßÿ≥ÿ™ÿ¥ÿßÿ±Ÿä ÿ£ŸÖÿ±ÿßÿ∂ ÿßŸÑÿ®ÿßÿ∑ŸÜÿ© | ŸÖÿ≥ÿ™ÿ¥ŸÅŸâ ÿßŸÑŸÖŸÑŸÉ ŸÅŸäÿµŸÑ ÿßŸÑÿ™ÿÆÿµÿµŸä</p>
                            </div>
                            <div class="profile-stats">
                                <div class="profile-stat">
                                    <div class="profile-stat-value">1,250</div>
                                    <div class="profile-stat-label" data-i18n="posts">ŸÖŸÜÿ¥Ÿàÿ±</div>
                                </div>
                                <div class="profile-stat">
                                    <div class="profile-stat-value">5,430</div>
                                    <div class="profile-stat-label" data-i18n="followers">ŸÖÿ™ÿßÿ®ÿπ</div>
                                </div>
                                <div class="profile-stat">
                                    <div class="profile-stat-value">892</div>
                                    <div class="profile-stat-label" data-i18n="following">Ÿäÿ™ÿßÿ®ÿπ</div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="settings-container" style="margin-top: 20px;">
                        <h3 style="margin-bottom: 20px;" data-i18n="about">ÿπŸÜ ÿßŸÑÿ∑ÿ®Ÿäÿ®</h3>
                        <p style="line-height: 1.8; color: var(--text-secondary);">
                            ÿßÿ≥ÿ™ÿ¥ÿßÿ±Ÿä ÿ£ŸÖÿ±ÿßÿ∂ ÿßŸÑÿ®ÿßÿ∑ŸÜÿ© ŸÖÿπ ÿÆÿ®ÿ±ÿ© ÿ™ÿ≤ŸäÿØ ÿπŸÜ 15 ÿπÿßŸÖÿßŸã ŸÅŸä ÿßŸÑÿ™ÿ¥ÿÆŸäÿµ ŸàÿßŸÑÿπŸÑÿßÿ¨. ÿ≠ÿßÿµŸÑ ÿπŸÑŸâ ÿßŸÑÿ®Ÿàÿ±ÿØ ÿßŸÑÿ≥ÿπŸàÿØŸä ŸàÿßŸÑÿ£ŸÖÿ±ŸäŸÉŸä ŸÅŸä ÿßŸÑÿ∑ÿ® ÿßŸÑÿ®ÿßÿ∑ŸÜŸä. ŸÖÿ™ÿÆÿµÿµ ŸÅŸä ÿπŸÑÿßÿ¨ ÿßŸÑÿ£ŸÖÿ±ÿßÿ∂ ÿßŸÑŸÖÿ≤ŸÖŸÜÿ© ŸÖÿ´ŸÑ ÿßŸÑÿ≥ŸÉÿ±Ÿä Ÿàÿßÿ±ÿ™ŸÅÿßÿπ ÿ∂ÿ∫ÿ∑ ÿßŸÑÿØŸÖ. ÿπÿ∂Ÿà ŸÅŸä ÿßŸÑÿ¨ŸÖÿπŸäÿ© ÿßŸÑÿ≥ÿπŸàÿØŸäÿ© ŸÑŸÑÿ∑ÿ® ÿßŸÑÿ®ÿßÿ∑ŸÜŸä ŸàÿßŸÑÿ¨ŸÖÿπŸäÿ© ÿßŸÑÿ£ŸÖÿ±ŸäŸÉŸäÿ© ŸÑŸÑÿ£ÿ∑ÿ®ÿßÿ°.
                        </p>
                    </div>
                </div>
            </div>
        </div>

        <!-- Settings Page -->
        <div id="settings-page" class="page">
            <div class="main-container" style="grid-template-columns: 1fr;">
                <div class="content-area">
                    <div class="settings-container">
                        <h2 style="margin-bottom: 24px; font-size: 28px;" data-i18n="settings">ÿßŸÑÿ•ÿπÿØÿßÿØÿßÿ™</h2>

                        <div class="settings-section">
                            <h3 data-i18n="accountSettings">ÿ•ÿπÿØÿßÿØÿßÿ™ ÿßŸÑÿ≠ÿ≥ÿßÿ®</h3>
                            <div class="settings-item">
                                <div class="settings-item-info">
                                    <h4 data-i18n="editProfile">ÿ™ÿπÿØŸäŸÑ ÿßŸÑŸÖŸÑŸÅ ÿßŸÑÿ¥ÿÆÿµŸä</h4>
                                    <p data-i18n="editProfileDesc">ÿ™ÿ≠ÿØŸäÿ´ ŸÖÿπŸÑŸàŸÖÿßÿ™ŸÉ ÿßŸÑÿ¥ÿÆÿµŸäÿ© ŸàÿßŸÑŸÖŸáŸÜŸäÿ©</p>
                                </div>
                                <button class="btn btn-secondary" style="width: auto; padding: 10px 20px;">
                                    <i class="fas fa-edit"></i>
                                </button>
                            </div>
                            <div class="settings-item">
                                <div class="settings-item-info">
                                    <h4 data-i18n="changePassword">ÿ™ÿ∫ŸäŸäÿ± ŸÉŸÑŸÖÿ© ÿßŸÑŸÖÿ±Ÿàÿ±</h4>
                                    <p data-i18n="changePasswordDesc">ÿ™ÿ≠ÿØŸäÿ´ ŸÉŸÑŸÖÿ© ŸÖÿ±Ÿàÿ± ÿ≠ÿ≥ÿßÿ®ŸÉ</p>
                                </div>
                                <button class="btn btn-secondary" style="width: auto; padding: 10px 20px;">
                                    <i class="fas fa-key"></i>
                                </button>
                            </div>
                        </div>

                        <div class="settings-section">
                            <h3 data-i18n="privacySettings">ÿ•ÿπÿØÿßÿØÿßÿ™ ÿßŸÑÿÆÿµŸàÿµŸäÿ©</h3>
                            <div class="settings-item">
                                <div class="settings-item-info">
                                    <h4 data-i18n="profileVisibility">ÿ∏ŸáŸàÿ± ÿßŸÑŸÖŸÑŸÅ ÿßŸÑÿ¥ÿÆÿµŸä</h4>
                                    <p data-i18n="profileVisibilityDesc">ÿßŸÑÿ™ÿ≠ŸÉŸÖ ŸÅŸä ŸÖŸÜ ŸäŸÖŸÉŸÜŸá ÿ±ÿ§Ÿäÿ© ŸÖŸÑŸÅŸÉ ÿßŸÑÿ¥ÿÆÿµŸä</p>
                                </div>
                                <div class="toggle-switch active" onclick="toggleSwitch(this)"></div>
                            </div>
                            <div class="settings-item">
                                <div class="settings-item-info">
                                    <h4 data-i18n="showOnlineStatus">ÿ•ÿ∏Ÿáÿßÿ± ÿ≠ÿßŸÑÿ© ÿßŸÑÿßÿ™ÿµÿßŸÑ</h4>
                                    <p data-i18n="showOnlineStatusDesc">ÿßŸÑÿ≥ŸÖÿßÿ≠ ŸÑŸÑÿ¢ÿÆÿ±ŸäŸÜ ÿ®ÿ±ÿ§Ÿäÿ© ŸàŸÇÿ™ ÿ™Ÿàÿßÿ¨ÿØŸÉ</p>
                                </div>
                                <div class="toggle-switch active" onclick="toggleSwitch(this)"></div>
                            </div>
                            <div class="settings-item">
                                <div class="settings-item-info">
                                    <h4 data-i18n="twoFactorAuth">ÿßŸÑŸÖÿµÿßÿØŸÇÿ© ÿßŸÑÿ´ŸÜÿßÿ¶Ÿäÿ©</h4>
                                    <p data-i18n="twoFactorAuthDesc">ÿ≠ŸÖÿßŸäÿ© ÿ•ÿ∂ÿßŸÅŸäÿ© ŸÑÿ≠ÿ≥ÿßÿ®ŸÉ</p>
                                </div>
                                <div class="toggle-switch" onclick="toggleSwitch(this)"></div>
                            </div>
                        </div>

                        <div class="settings-section">
                            <h3 data-i18n="notificationSettings">ÿ•ÿπÿØÿßÿØÿßÿ™ ÿßŸÑÿ•ÿ¥ÿπÿßÿ±ÿßÿ™</h3>
                            <div class="settings-item">
                                <div class="settings-item-info">
                                    <h4 data-i18n="pushNotifications">ÿßŸÑÿ•ÿ¥ÿπÿßÿ±ÿßÿ™ ÿßŸÑŸÅŸàÿ±Ÿäÿ©</h4>
                                    <p data-i18n="pushNotificationsDesc">ÿ™ŸÑŸÇŸä ÿ•ÿ¥ÿπÿßÿ±ÿßÿ™ ÿπŸÑŸâ ÿ¨Ÿáÿßÿ≤ŸÉ</p>
                                </div>
                                <div class="toggle-switch active" onclick="toggleSwitch(this)"></div>
                            </div>
                            <div class="settings-item">
                                <div class="settings-item-info">
                                    <h4 data-i18n="emailNotifications">ÿßŸÑÿ•ÿ¥ÿπÿßÿ±ÿßÿ™ ÿπÿ®ÿ± ÿßŸÑÿ®ÿ±ŸäÿØ</h4>
                                    <p data-i18n="emailNotificationsDesc">ÿ™ŸÑŸÇŸä ÿ™ÿ≠ÿØŸäÿ´ÿßÿ™ ÿπÿ®ÿ± ÿßŸÑÿ®ÿ±ŸäÿØ ÿßŸÑÿ•ŸÑŸÉÿ™ÿ±ŸàŸÜŸä</p>
                                </div>
                                <div class="toggle-switch active" onclick="toggleSwitch(this)"></div>
                            </div>
                        </div>

                        <div class="settings-section">
                            <h3 data-i18n="appearance">ÿßŸÑŸÖÿ∏Ÿáÿ±</h3>
                            <div class="settings-item">
                                <div class="settings-item-info">
                                    <h4 data-i18n="darkMode">ÿßŸÑŸàÿ∂ÿπ ÿßŸÑŸÑŸäŸÑŸä</h4>
                                    <p data-i18n="darkModeDesc">ÿ™ŸÅÿπŸäŸÑ ÿßŸÑŸÖÿ∏Ÿáÿ± ÿßŸÑÿØÿßŸÉŸÜ</p>
                                </div>
                                <div class="toggle-switch" onclick="toggleSwitch(this)"></div>
                            </div>
                        </div>

                        <div class="settings-section">
                            <button class="btn btn-primary" style="background: var(--danger-color);" onclick="logout()">
                                <i class="fas fa-sign-out-alt"></i>
                                <span data-i18n="logout">ÿ™ÿ≥ÿ¨ŸäŸÑ ÿßŸÑÿÆÿ±Ÿàÿ¨</span>
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Register Modal -->
    <div id="register-modal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 data-i18n="createAccount">ÿ•ŸÜÿ¥ÿßÿ° ÿ≠ÿ≥ÿßÿ® ÿ¨ÿØŸäÿØ</h3>
                <button class="modal-close" onclick="closeModal('register-modal')">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <form id="register-form">
                <div class="form-group">
                    <label data-i18n="fullName">ÿßŸÑÿßÿ≥ŸÖ ÿßŸÑŸÉÿßŸÖŸÑ</label>
                    <input type="text" class="form-input" required>
                </div>
                <div class="form-group">
                    <label data-i18n="email">ÿßŸÑÿ®ÿ±ŸäÿØ ÿßŸÑÿ•ŸÑŸÉÿ™ÿ±ŸàŸÜŸä</label>
                    <input type="email" class="form-input" required>
                </div>
                <div class="form-group">
                    <label data-i18n="specialization">ÿßŸÑÿ™ÿÆÿµÿµ</label>
                    <select class="form-input" required>
                        <option value="">ÿßÿÆÿ™ÿ± ÿßŸÑÿ™ÿÆÿµÿµ</option>
                        <option value="cardiology">ÿ£ŸÖÿ±ÿßÿ∂ ÿßŸÑŸÇŸÑÿ®</option>
                        <option value="pediatrics">ÿ∑ÿ® ÿßŸÑÿ£ÿ∑ŸÅÿßŸÑ</option>
                        <option value="surgery">ÿßŸÑÿ¨ÿ±ÿßÿ≠ÿ©</option>
                        <option value="internal">ÿßŸÑÿ∑ÿ® ÿßŸÑÿ®ÿßÿ∑ŸÜŸä</option>
                        <option value="orthopedics">ÿ¨ÿ±ÿßÿ≠ÿ© ÿßŸÑÿπÿ∏ÿßŸÖ</option>
                    </select>
                </div>
                <div class="form-group">
                    <label data-i18n="password">ŸÉŸÑŸÖÿ© ÿßŸÑŸÖÿ±Ÿàÿ±</label>
                    <input type="password" class="form-input" required>
                </div>
                <div class="form-group">
                    <label data-i18n="confirmPassword">ÿ™ÿ£ŸÉŸäÿØ ŸÉŸÑŸÖÿ© ÿßŸÑŸÖÿ±Ÿàÿ±</label>
                    <input type="password" class="form-input" required>
                </div>
                <button type="submit" class="btn btn-primary">
                    <span data-i18n="register">ÿ™ÿ≥ÿ¨ŸäŸÑ</span>
                </button>
            </form>
        </div>
    </div>

    <script>
        // Translations
        const translations = {
            ar: {
                email: 'ÿßŸÑÿ®ÿ±ŸäÿØ ÿßŸÑÿ•ŸÑŸÉÿ™ÿ±ŸàŸÜŸä',
                password: 'ŸÉŸÑŸÖÿ© ÿßŸÑŸÖÿ±Ÿàÿ±',
                login: 'ÿ™ÿ≥ÿ¨ŸäŸÑ ÿßŸÑÿØÿÆŸàŸÑ',
                googleLogin: 'ÿ™ÿ≥ÿ¨ŸäŸÑ ÿßŸÑÿØÿÆŸàŸÑ ÿ®Ÿàÿßÿ≥ÿ∑ÿ© Google',
                or: 'ÿ£Ÿà',
                createAccount: 'ÿ•ŸÜÿ¥ÿßÿ° ÿ≠ÿ≥ÿßÿ® ÿ¨ÿØŸäÿØ',
                language: 'ÿßŸÑŸÑÿ∫ÿ©',
                search: 'ÿ®ÿ≠ÿ´ ŸÅŸä MedicalBook',
                home: 'ÿßŸÑÿ±ÿ¶Ÿäÿ≥Ÿäÿ©',
                doctors: 'ÿßŸÑÿ£ÿ∑ÿ®ÿßÿ°',
                hospitals: 'ÿßŸÑŸÖÿ≥ÿ™ÿ¥ŸÅŸäÿßÿ™',
                pharmacy: 'ÿßŸÑÿµŸäÿØŸÑŸäÿ©',
                medicalLibrary: 'ÿßŸÑŸÖŸÉÿ™ÿ®ÿ© ÿßŸÑÿ∑ÿ®Ÿäÿ©',
                conferences: 'ŸÖÿ§ÿ™ŸÖÿ±ÿßÿ™ ÿ∑ÿ®Ÿäÿ©',
                jobs: 'Ÿàÿ∏ÿßÿ¶ŸÅ ÿ∑ÿ®Ÿäÿ©',
                whatsOnYourMind: 'ŸÖÿß ÿßŸÑÿ∞Ÿä ÿ™ŸÅŸÉÿ± ŸÅŸäŸáÿü',
                photo: 'ÿµŸàÿ±ÿ©',
                video: 'ŸÅŸäÿØŸäŸà',
                medicalCase: 'ÿ≠ÿßŸÑÿ© ÿ∑ÿ®Ÿäÿ©',
                like: 'ÿ•ÿπÿ¨ÿßÿ®',
                comment: 'ÿ™ÿπŸÑŸäŸÇ',
                share: 'ŸÖÿ¥ÿßÿ±ŸÉÿ©',
                onlineContacts: 'ÿ¨Ÿáÿßÿ™ ÿßŸÑÿßÿ™ÿµÿßŸÑ ÿßŸÑŸÖÿ™ÿµŸÑÿ©',
                suggestedGroups: 'ŸÖÿ¨ŸÖŸàÿπÿßÿ™ ŸÖŸÇÿ™ÿ±ÿ≠ÿ©',
                notifications: 'ÿßŸÑÿ•ÿ¥ÿπÿßÿ±ÿßÿ™',
                posts: 'ŸÖŸÜÿ¥Ÿàÿ±',
                followers: 'ŸÖÿ™ÿßÿ®ÿπ',
                following: 'Ÿäÿ™ÿßÿ®ÿπ',
                about: 'ÿπŸÜ ÿßŸÑÿ∑ÿ®Ÿäÿ®',
                settings: 'ÿßŸÑÿ•ÿπÿØÿßÿØÿßÿ™',
                accountSettings: 'ÿ•ÿπÿØÿßÿØÿßÿ™ ÿßŸÑÿ≠ÿ≥ÿßÿ®',
                editProfile: 'ÿ™ÿπÿØŸäŸÑ ÿßŸÑŸÖŸÑŸÅ ÿßŸÑÿ¥ÿÆÿµŸä',
                editProfileDesc: 'ÿ™ÿ≠ÿØŸäÿ´ ŸÖÿπŸÑŸàŸÖÿßÿ™ŸÉ ÿßŸÑÿ¥ÿÆÿµŸäÿ© ŸàÿßŸÑŸÖŸáŸÜŸäÿ©',
                changePassword: 'ÿ™ÿ∫ŸäŸäÿ± ŸÉŸÑŸÖÿ© ÿßŸÑŸÖÿ±Ÿàÿ±',
                changePasswordDesc: 'ÿ™ÿ≠ÿØŸäÿ´ ŸÉŸÑŸÖÿ© ŸÖÿ±Ÿàÿ± ÿ≠ÿ≥ÿßÿ®ŸÉ',
                privacySettings: 'ÿ•ÿπÿØÿßÿØÿßÿ™ ÿßŸÑÿÆÿµŸàÿµŸäÿ©',
                profileVisibility: 'ÿ∏ŸáŸàÿ± ÿßŸÑŸÖŸÑŸÅ ÿßŸÑÿ¥ÿÆÿµŸä',
                profileVisibilityDesc: 'ÿßŸÑÿ™ÿ≠ŸÉŸÖ ŸÅŸä ŸÖŸÜ ŸäŸÖŸÉŸÜŸá ÿ±ÿ§Ÿäÿ© ŸÖŸÑŸÅŸÉ ÿßŸÑÿ¥ÿÆÿµŸä',
                showOnlineStatus: 'ÿ•ÿ∏Ÿáÿßÿ± ÿ≠ÿßŸÑÿ© ÿßŸÑÿßÿ™ÿµÿßŸÑ',
                showOnlineStatusDesc: 'ÿßŸÑÿ≥ŸÖÿßÿ≠ ŸÑŸÑÿ¢ÿÆÿ±ŸäŸÜ ÿ®ÿ±ÿ§Ÿäÿ© ŸàŸÇÿ™ ÿ™Ÿàÿßÿ¨ÿØŸÉ',
                twoFactorAuth: 'ÿßŸÑŸÖÿµÿßÿØŸÇÿ© ÿßŸÑÿ´ŸÜÿßÿ¶Ÿäÿ©',
                twoFactorAuthDesc: 'ÿ≠ŸÖÿßŸäÿ© ÿ•ÿ∂ÿßŸÅŸäÿ© ŸÑÿ≠ÿ≥ÿßÿ®ŸÉ',
                notificationSettings: 'ÿ•ÿπÿØÿßÿØÿßÿ™ ÿßŸÑÿ•ÿ¥ÿπÿßÿ±ÿßÿ™',
                pushNotifications: 'ÿßŸÑÿ•ÿ¥ÿπÿßÿ±ÿßÿ™ ÿßŸÑŸÅŸàÿ±Ÿäÿ©',
                pushNotificationsDesc: 'ÿ™ŸÑŸÇŸä ÿ•ÿ¥ÿπÿßÿ±ÿßÿ™ ÿπŸÑŸâ ÿ¨Ÿáÿßÿ≤ŸÉ',
                emailNotifications: 'ÿßŸÑÿ•ÿ¥ÿπÿßÿ±ÿßÿ™ ÿπÿ®ÿ± ÿßŸÑÿ®ÿ±ŸäÿØ',
                emailNotificationsDesc: 'ÿ™ŸÑŸÇŸä ÿ™ÿ≠ÿØŸäÿ´ÿßÿ™ ÿπÿ®ÿ± ÿßŸÑÿ®ÿ±ŸäÿØ ÿßŸÑÿ•ŸÑŸÉÿ™ÿ±ŸàŸÜŸä',
                appearance: 'ÿßŸÑŸÖÿ∏Ÿáÿ±',
                darkMode: 'ÿßŸÑŸàÿ∂ÿπ ÿßŸÑŸÑŸäŸÑŸä',
                darkModeDesc: 'ÿ™ŸÅÿπŸäŸÑ ÿßŸÑŸÖÿ∏Ÿáÿ± ÿßŸÑÿØÿßŸÉŸÜ',
                logout: 'ÿ™ÿ≥ÿ¨ŸäŸÑ ÿßŸÑÿÆÿ±Ÿàÿ¨',
                fullName: 'ÿßŸÑÿßÿ≥ŸÖ ÿßŸÑŸÉÿßŸÖŸÑ',
                specialization: 'ÿßŸÑÿ™ÿÆÿµÿµ',
                confirmPassword: 'ÿ™ÿ£ŸÉŸäÿØ ŸÉŸÑŸÖÿ© ÿßŸÑŸÖÿ±Ÿàÿ±',
                register: 'ÿ™ÿ≥ÿ¨ŸäŸÑ'
            },
            en: {
                email: 'Email',
                password: 'Password',
                login: 'Login',
                googleLogin: 'Login with Google',
                or: 'or',
                createAccount: 'Create New Account',
                language: 'Language',
                search: 'Search MedicalBook',
                home: 'Home',
                doctors: 'Doctors',
                hospitals: 'Hospitals',
                pharmacy: 'Pharmacy',
                medicalLibrary: 'Medical Library',
                conferences: 'Medical Conferences',
                jobs: 'Medical Jobs',
                whatsOnYourMind: "What's on your mind?",
                photo: 'Photo',
                video: 'Video',
                medicalCase: 'Medical Case',
                like: 'Like',
                comment: 'Comment',
                share: 'Share',
                onlineContacts: 'Online Contacts',
                suggestedGroups: 'Suggested Groups',
                notifications: 'Notifications',
                posts: 'Posts',
                followers: 'Followers',
                following: 'Following',
                about: 'About',
                settings: 'Settings',
                accountSettings: 'Account Settings',
                editProfile: 'Edit Profile',
                editProfileDesc: 'Update your personal and professional information',
                changePassword: 'Change Password',
                changePasswordDesc: 'Update your account password',
                privacySettings: 'Privacy Settings',
                profileVisibility: 'Profile Visibility',
                profileVisibilityDesc: 'Control who can see your profile',
                showOnlineStatus: 'Show Online Status',
                showOnlineStatusDesc: 'Let others see when you are online',
                twoFactorAuth: 'Two-Factor Authentication',
                twoFactorAuthDesc: 'Extra security for your account',
                notificationSettings: 'Notification Settings',
                pushNotifications: 'Push Notifications',
                pushNotificationsDesc: 'Receive notifications on your device',
                emailNotifications: 'Email Notifications',
                emailNotificationsDesc: 'Receive updates via email',
                appearance: 'Appearance',
                darkMode: 'Dark Mode',
                darkModeDesc: 'Enable dark theme',
                logout: 'Logout',
                fullName: 'Full Name',
                specialization: 'Specialization',
                confirmPassword: 'Confirm Password',
                register: 'Register'
            },
            fr: {
                email: 'Email',
                password: 'Mot de passe',
                login: 'Connexion',
                googleLogin: 'Se connecter avec Google',
                or: 'ou',
                createAccount: 'Cr√©er un nouveau compte',
                language: 'Langue',
                search: 'Rechercher dans MedicalBook',
                home: 'Accueil',
                doctors: 'M√©decins',
                hospitals: 'H√¥pitaux',
                pharmacy: 'Pharmacie',
                medicalLibrary: 'Biblioth√®que m√©dicale',
                conferences: 'Conf√©rences m√©dicales',
                jobs: 'Emplois m√©dicaux',
                whatsOnYourMind: '√Ä quoi pensez-vous?',
                photo: 'Photo',
                video: 'Vid√©o',
                medicalCase: 'Cas m√©dical',
                like: 'Aimer',
                comment: 'Commenter',
                share: 'Partager',
                onlineContacts: 'Contacts en ligne',
                suggestedGroups: 'Groupes sugg√©r√©s',
                notifications: 'Notifications',
                posts: 'Publications',
                followers: 'Abonn√©s',
                following: 'Abonnements',
                about: '√Ä propos',
                settings: 'Param√®tres',
                accountSettings: 'Param√®tres du compte',
                editProfile: 'Modifier le profil',
                editProfileDesc: 'Mettre √† jour vos informations personnelles et professionnelles',
                changePassword: 'Changer le mot de passe',
                changePasswordDesc: 'Mettre √† jour le mot de passe de votre compte',
                privacySettings: 'Param√®tres de confidentialit√©',
                profileVisibility: 'Visibilit√© du profil',
                profileVisibilityDesc: 'Contr√¥ler qui peut voir votre profil',
                showOnlineStatus: 'Afficher le statut en ligne',
                showOnlineStatusDesc: 'Permettre aux autres de voir quand vous √™tes en ligne',
                twoFactorAuth: 'Authentification √† deux facteurs',
                twoFactorAuthDesc: 'S√©curit√© suppl√©mentaire pour votre compte',
                notificationSettings: 'Param√®tres de notification',
                pushNotifications: 'Notifications push',
                pushNotificationsDesc: 'Recevoir des notifications sur votre appareil',
                emailNotifications: 'Notifications par email',
                emailNotificationsDesc: 'Recevoir des mises √† jour par email',
                appearance: 'Apparence',
                darkMode: 'Mode sombre',
                darkModeDesc: 'Activer le th√®me sombre',
                logout: 'D√©connexion',
                fullName: 'Nom complet',
                specialization: 'Sp√©cialisation',
                confirmPassword: 'Confirmer le mot de passe',
                register: "S'inscrire"
            },
            es: {
                email: 'Correo electr√≥nico',
                password: 'Contrase√±a',
                login: 'Iniciar sesi√≥n',
                googleLogin: 'Iniciar sesi√≥n con Google',
                or: 'o',
                createAccount: 'Crear nueva cuenta',
                language: 'Idioma',
                search: 'Buscar en MedicalBook',
                home: 'Inicio',
                doctors: 'M√©dicos',
                hospitals: 'Hospitales',
                pharmacy: 'Farmacia',
                medicalLibrary: 'Biblioteca m√©dica',
                conferences: 'Conferencias m√©dicas',
                jobs: 'Empleos m√©dicos',
                whatsOnYourMind: '¬øQu√© est√°s pensando?',
                photo: 'Foto',
                video: 'Video',
                medicalCase: 'Caso m√©dico',
                like: 'Me gusta',
                comment: 'Comentar',
                share: 'Compartir',
                onlineContacts: 'Contactos en l√≠nea',
                suggestedGroups: 'Grupos sugeridos',
                notifications: 'Notificaciones',
                posts: 'Publicaciones',
                followers: 'Seguidores',
                following: 'Siguiendo',
                about: 'Acerca de',
                settings: 'Configuraci√≥n',
                accountSettings: 'Configuraci√≥n de la cuenta',
                editProfile: 'Editar perfil',
                editProfileDesc: 'Actualizar su informaci√≥n personal y profesional',
                changePassword: 'Cambiar contrase√±a',
                changePasswordDesc: 'Actualizar la contrase√±a de su cuenta',
                privacySettings: 'Configuraci√≥n de privacidad',
                profileVisibility: 'Visibilidad del perfil',
                profileVisibilityDesc: 'Controlar qui√©n puede ver su perfil',
                showOnlineStatus: 'Mostrar estado en l√≠nea',
                showOnlineStatusDesc: 'Permitir que otros vean cu√°ndo est√° en l√≠nea',
                twoFactorAuth: 'Autenticaci√≥n de dos factores',
                twoFactorAuthDesc: 'Seguridad adicional para su cuenta',
                notificationSettings: 'Configuraci√≥n de notificaciones',
                pushNotifications: 'Notificaciones push',
                pushNotificationsDesc: 'Recibir notificaciones en su dispositivo',
                emailNotifications: 'Notificaciones por correo',
                emailNotificationsDesc: 'Recibir actualizaciones por correo electr√≥nico',
                appearance: 'Apariencia',
                darkMode: 'Modo oscuro',
                darkModeDesc: 'Activar tema oscuro',
                logout: 'Cerrar sesi√≥n',
                fullName: 'Nombre completo',
                specialization: 'Especializaci√≥n',
                confirmPassword: 'Confirmar contrase√±a',
                register: 'Registrarse'
            }
        };

        let currentLanguage = 'ar';

        // Initialize app
        setTimeout(() => {
            document.getElementById('splash-screen').style.display = 'none';
            document.getElementById('login-screen').style.display = 'block';
        }, 2500);

        // Login form handling
        document.getElementById('login-form').addEventListener('submit', function(e) {
            e.preventDefault();
            showToast('ÿ¨ÿßÿ±Ÿä ÿ™ÿ≥ÿ¨ŸäŸÑ ÿßŸÑÿØÿÆŸàŸÑ...', 'success');
            setTimeout(() => {
                document.getElementById('login-screen').style.display = 'none';
                document.getElementById('app-container').style.display = 'block';
                showToast('ÿ™ŸÖ ÿ™ÿ≥ÿ¨ŸäŸÑ ÿßŸÑÿØÿÆŸàŸÑ ÿ®ŸÜÿ¨ÿßÿ≠!', 'success');
            }, 1500);
        });

        // Google login
        function loginWithGoogle() {
            showToast('ÿ¨ÿßÿ±Ÿä ÿ™ÿ≥ÿ¨ŸäŸÑ ÿßŸÑÿØÿÆŸàŸÑ ÿπÿ®ÿ± Google...', 'success');
            setTimeout(() => {
                document.getElementById('login-screen').style.display = 'none';
                document.getElementById('app-container').style.display = 'block';
                showToast('ÿ™ŸÖ ÿ™ÿ≥ÿ¨ŸäŸÑ ÿßŸÑÿØÿÆŸàŸÑ ÿ®ŸÜÿ¨ÿßÿ≠!', 'success');
            }, 1500);
        }

        // Register modal
        function showRegisterModal() {
            document.getElementById('register-modal').style.display = 'flex';
        }

        function closeModal(modalId) {
            document.getElementById(modalId).style.display = 'none';
        }

        document.getElementById('register-form').addEventListener('submit', function(e) {
            e.preventDefault();
            showToast('ÿ¨ÿßÿ±Ÿä ÿ•ŸÜÿ¥ÿßÿ° ÿßŸÑÿ≠ÿ≥ÿßÿ®...', 'success');
            setTimeout(() => {
                closeModal('register-modal');
                showToast('ÿ™ŸÖ ÿ•ŸÜÿ¥ÿßÿ° ÿßŸÑÿ≠ÿ≥ÿßÿ® ÿ®ŸÜÿ¨ÿßÿ≠!', 'success');
            }, 1500);
        });

        // Page navigation
        function showPage(pageName) {
            document.querySelectorAll('.page').forEach(page => {
                page.classList.remove('active');
            });
            document.getElementById(pageName + '-page').classList.add('active');
        }

        // Toggle like
        function toggleLike(btn) {
            btn.classList.toggle('liked');
            const icon = btn.querySelector('.post-action-icon');
            const countElement = btn.querySelector('.post-action-count');
            let count = parseInt(countElement.textContent);
            
            if (btn.classList.contains('liked')) {
                icon.classList.remove('far');
                icon.classList.add('fas');
                count++;
                showToast('ÿ™ŸÖ ÿßŸÑÿ•ÿπÿ¨ÿßÿ® ÿ®ÿßŸÑŸÖŸÜÿ¥Ÿàÿ±', 'success');
            } else {
                icon.classList.remove('fas');
                icon.classList.add('far');
                count--;
            }
            
            countElement.textContent = count;
        }

        // Toggle switch
        function toggleSwitch(element) {
            element.classList.toggle('active');
        }

        // Logout
        function logout() {
            showToast('ÿ¨ÿßÿ±Ÿä ÿ™ÿ≥ÿ¨ŸäŸÑ ÿßŸÑÿÆÿ±Ÿàÿ¨...', 'success');
            setTimeout(() => {
                document.getElementById('app-container').style.display = 'none';
                document.getElementById('login-screen').style.display = 'block';
                showToast('ÿ™ŸÖ ÿ™ÿ≥ÿ¨ŸäŸÑ ÿßŸÑÿÆÿ±Ÿàÿ¨ ÿ®ŸÜÿ¨ÿßÿ≠', 'success');
            }, 1000);
        }

        // Toast notification
        function showToast(message, type = 'success') {
            const toast = document.createElement('div');
            toast.className = `toast ${type}`;
            toast.textContent = message;
            document.body.appendChild(toast);
            setTimeout(() => {
                toast.remove();
            }, 3000);
        }

        // Language change
        function changeLanguage(lang) {
            currentLanguage = lang;
            const html = document.documentElement;
            
            if (lang === 'ar') {
                html.setAttribute('lang', 'ar');
                html.setAttribute('dir', 'rtl');
            } else {
                html.setAttribute('lang', lang);
                html.setAttribute('dir', 'ltr');
            }

            // Update all translatable elements
            document.querySelectorAll('[data-i18n]').forEach(element => {
                const key = element.getAttribute('data-i18n');
                if (translations[lang] && translations[lang][key]) {
                    element.textContent = translations[lang][key];
                }
            });

            // Update placeholders
            document.querySelectorAll('[data-i18n-placeholder]').forEach(element => {
                const key = element.getAttribute('data-i18n-placeholder');
                if (translations[lang] && translations[lang][key]) {
                    element.placeholder = translations[lang][key];
                }
            });

            showToast(lang === 'ar' ? 'ÿ™ŸÖ ÿ™ÿ∫ŸäŸäÿ± ÿßŸÑŸÑÿ∫ÿ©' : lang === 'en' ? 'Language changed' : lang === 'fr' ? 'Langue modifi√©e' : 'Idioma cambiado', 'success');
        }

        // Create post modal
        function showCreatePostModal() {
            showToast('ŸÅÿ™ÿ≠ ŸÜÿßŸÅÿ∞ÿ© ÿ•ŸÜÿ¥ÿßÿ° ŸÖŸÜÿ¥Ÿàÿ± ÿ¨ÿØŸäÿØ...', 'success');
        }

        // Close modal on outside click
        window.addEventListener('click', function(e) {
            if (e.target.classList.contains('modal')) {
                e.target.style.display = 'none';
            }
        });

        // ==================== PWA FUNCTIONALITY ====================

        let deferredPrompt;
        const installContainer = document.getElementById('install-container');
        const installButton = document.getElementById('install-button');
        const installClose = document.getElementById('install-close');

        // Register Service Worker
        if ('serviceWorker' in navigator) {
            window.addEventListener('load', () => {
                navigator.serviceWorker.register('service-worker.js')
                    .then(registration => {
                        console.log('‚úÖ Service Worker registered successfully:', registration);
                        
                        // Check for updates
                        registration.addEventListener('updatefound', () => {
                            const newWorker = registration.installing;
                            newWorker.addEventListener('statechange', () => {
                                if (newWorker.state === 'installed' && navigator.serviceWorker.controller) {
                                    showToast('ÿ™ÿ≠ÿØŸäÿ´ ÿ¨ÿØŸäÿØ ŸÖÿ™ÿßÿ≠! ŸÇŸÖ ÿ®ÿ•ÿπÿßÿØÿ© ÿ™ÿ≠ŸÖŸäŸÑ ÿßŸÑÿµŸÅÿ≠ÿ©', 'success');
                                }
                            });
                        });
                    })
                    .catch(error => {
                        console.log('‚ùå Service Worker registration failed:', error);
                    });
            });
        }

        // PWA Install Prompt
        window.addEventListener('beforeinstallprompt', (e) => {
            e.preventDefault();
            deferredPrompt = e;
            installContainer.style.display = 'block';
        });

        installButton.addEventListener('click', async () => {
            if (deferredPrompt) {
                deferredPrompt.prompt();
                const { outcome } = await deferredPrompt.userChoice;
                
                if (outcome === 'accepted') {
                    showToast('üéâ ÿ¨ÿßÿ±Ÿä ÿ™ÿ´ÿ®Ÿäÿ™ ÿßŸÑÿ™ÿ∑ÿ®ŸäŸÇ...', 'success');
                    installContainer.style.display = 'none';
                } else {
                    showToast('ÿ™ŸÖ ÿ•ŸÑÿ∫ÿßÿ° ÿßŸÑÿ™ÿ´ÿ®Ÿäÿ™', 'error');
                }
                deferredPrompt = null;
            } else {
                // For iOS devices
                if (navigator.userAgent.match(/iPhone|iPad|iPod/)) {
                    showToast('ÿßÿ∂ÿ∫ÿ∑ ÿπŸÑŸâ ÿ£ŸäŸÇŸàŸÜÿ© ÿßŸÑŸÖÿ¥ÿßÿ±ŸÉÿ© ÿ´ŸÖ "ÿ•ÿ∂ÿßŸÅÿ© ÿ•ŸÑŸâ ÿßŸÑÿ¥ÿßÿ¥ÿ© ÿßŸÑÿ±ÿ¶Ÿäÿ≥Ÿäÿ©"', 'success');
                } else {
                    showToast('ÿßÿ≥ÿ™ÿÆÿØŸÖ ŸÇÿßÿ¶ŸÖÿ© ÿßŸÑŸÖÿ™ÿµŸÅÿ≠ ŸÑÿ™ÿ´ÿ®Ÿäÿ™ ÿßŸÑÿ™ÿ∑ÿ®ŸäŸÇ', 'success');
                }
            }
        });

        installClose.addEventListener('click', () => {
            installContainer.style.display = 'none';
        });

        // Check if already installed
        window.addEventListener('appinstalled', () => {
            installContainer.style.display = 'none';
            showToast('‚úÖ ÿ™ŸÖ ÿ™ÿ´ÿ®Ÿäÿ™ ÿßŸÑÿ™ÿ∑ÿ®ŸäŸÇ ÿ®ŸÜÿ¨ÿßÿ≠!', 'success');
        });

        // Check if running as PWA
        if (window.matchMedia('(display-mode: standalone)').matches || window.navigator.standalone === true) {
            console.log('‚úÖ Running as installed PWA');
            installContainer.style.display = 'none';
        }

        // Online/Offline Detection
        const offlineIndicator = document.getElementById('offline-indicator');

        function updateOnlineStatus() {
            if (navigator.onLine) {
                offlineIndicator.classList.remove('show');
                showToast('‚úÖ ÿ™ŸÖ ÿßŸÑÿßÿ™ÿµÿßŸÑ ÿ®ÿßŸÑÿ•ŸÜÿ™ÿ±ŸÜÿ™', 'success');
            } else {
                offlineIndicator.classList.add('show');
                showToast('‚ö†Ô∏è ÿ£ŸÜÿ™ ÿ∫Ÿäÿ± ŸÖÿ™ÿµŸÑ ÿ®ÿßŸÑÿ•ŸÜÿ™ÿ±ŸÜÿ™', 'error');
            }
        }

        window.addEventListener('online', updateOnlineStatus);
        window.addEventListener('offline', updateOnlineStatus);

        // Request Notification Permission
        async function requestNotificationPermission() {
            if ('Notification' in window && 'serviceWorker' in navigator) {
                const permission = await Notification.requestPermission();
                if (permission === 'granted') {
                    console.log('‚úÖ Notification permission granted');
                    showToast('‚úÖ ÿ™ŸÖ ÿ™ŸÅÿπŸäŸÑ ÿßŸÑÿ•ÿ¥ÿπÿßÿ±ÿßÿ™', 'success');
                    
                    // Subscribe to push notifications
                    const registration = await navigator.serviceWorker.ready;
                    try {
                        const subscription = await registration.pushManager.subscribe({
                            userVisibleOnly: true,
                            applicationServerKey: urlBase64ToUint8Array('YOUR_PUBLIC_VAPID_KEY_HERE')
                        });
                        console.log('Push subscription:', subscription);
                    } catch (error) {
                        console.log('Push subscription failed:', error);
                    }
                }
            }
        }

        // Helper function for push subscription
        function urlBase64ToUint8Array(base64String) {
            const padding = '='.repeat((4 - base64String.length % 4) % 4);
            const base64 = (base64String + padding)
                .replace(/\-/g, '+')
                .replace(/_/g, '/');
            const rawData = window.atob(base64);
            const outputArray = new Uint8Array(rawData.length);
            for (let i = 0; i < rawData.length; ++i) {
                outputArray[i] = rawData.charCodeAt(i);
            }
            return outputArray;
        }

        // Request notification permission after login
        setTimeout(() => {
            if (document.getElementById('app-container').style.display === 'block') {
                requestNotificationPermission();
            }
        }, 3000);

        // Pull to Refresh
        let touchStartY = 0;
        let touchEndY = 0;
        const pullRefresh = document.getElementById('pull-refresh');

        document.addEventListener('touchstart', (e) => {
            touchStartY = e.touches[0].clientY;
        }, { passive: true });

        document.addEventListener('touchmove', (e) => {
            touchEndY = e.touches[0].clientY;
            const pullDistance = touchEndY - touchStartY;
            
            if (pullDistance > 0 && window.scrollY === 0) {
                pullRefresh.style.top = Math.min(pullDistance - 60, 20) + 'px';
                if (pullDistance > 100) {
                    pullRefresh.querySelector('i').style.transform = 'rotate(180deg)';
                } else {
                    pullRefresh.querySelector('i').style.transform = 'rotate(0deg)';
                }
            }
        }, { passive: true });

        document.addEventListener('touchend', (e) => {
            const pullDistance = touchEndY - touchStartY;
            
            if (pullDistance > 100 && window.scrollY === 0) {
                pullRefresh.classList.add('visible');
                pullRefresh.querySelector('i').style.animation = 'spin 1s linear infinite';
                
                // Simulate refresh
                setTimeout(() => {
                    location.reload();
                }, 1000);
            } else {
                pullRefresh.style.top = '-60px';
                pullRefresh.querySelector('i').style.transform = 'rotate(0deg)';
            }
        }, { passive: true });

        // Add to Home Screen prompt for iOS
        function isIOS() {
            return /iPad|iPhone|iPod/.test(navigator.userAgent) && !window.MSStream;
        }

        function isInStandaloneMode() {
            return ('standalone' in window.navigator) && (window.navigator.standalone);
        }

        if (isIOS() && !isInStandaloneMode()) {
            setTimeout(() => {
                installContainer.style.display = 'block';
            }, 2000);
        }

        // Background Sync
        async function registerBackgroundSync() {
            if ('serviceWorker' in navigator && 'sync' in ServiceWorkerRegistration.prototype) {
                const registration = await navigator.serviceWorker.ready;
                try {
                    await registration.sync.register('sync-posts');
                    console.log('‚úÖ Background sync registered');
                } catch (error) {
                    console.log('‚ùå Background sync failed:', error);
                }
            }
        }

        // Cache management
        function clearOldCaches() {
            if ('caches' in window) {
                caches.keys().then(names => {
                    names.forEach(name => {
                        if (name !== 'medicalbook-v1') {
                            caches.delete(name);
                        }
                    });
                });
            }
        }

        // Show install instructions for different platforms
        function showInstallInstructions() {
            const ua = navigator.userAgent.toLowerCase();
            let instructions = '';

            if (ua.includes('android')) {
                instructions = 'üì± Android: ÿßÿ∂ÿ∫ÿ∑ ÿπŸÑŸâ ÿßŸÑŸÇÿßÿ¶ŸÖÿ© (‚ãÆ) ÿ´ŸÖ "ÿ•ÿ∂ÿßŸÅÿ© ÿ•ŸÑŸâ ÿßŸÑÿ¥ÿßÿ¥ÿ© ÿßŸÑÿ±ÿ¶Ÿäÿ≥Ÿäÿ©"';
            } else if (ua.includes('iphone') || ua.includes('ipad')) {
                instructions = 'üì± iOS: ÿßÿ∂ÿ∫ÿ∑ ÿπŸÑŸâ ÿ£ŸäŸÇŸàŸÜÿ© ÿßŸÑŸÖÿ¥ÿßÿ±ŸÉÿ© (‚Üë) ÿ´ŸÖ "ÿ•ÿ∂ÿßŸÅÿ© ÿ•ŸÑŸâ ÿßŸÑÿ¥ÿßÿ¥ÿ© ÿßŸÑÿ±ÿ¶Ÿäÿ≥Ÿäÿ©"';
            } else if (ua.includes('chrome')) {
                instructions = 'üíª Chrome: ÿßÿ∂ÿ∫ÿ∑ ÿπŸÑŸâ ÿ£ŸäŸÇŸàŸÜÿ© ÿßŸÑÿ™ÿ´ÿ®Ÿäÿ™ ŸÅŸä ÿ¥ÿ±Ÿäÿ∑ ÿßŸÑÿπŸÜŸàÿßŸÜ';
            } else if (ua.includes('firefox')) {
                instructions = 'üíª Firefox: ÿßÿ∂ÿ∫ÿ∑ ÿπŸÑŸâ ÿßŸÑŸÇÿßÿ¶ŸÖÿ© ÿ´ŸÖ "ÿ™ÿ´ÿ®Ÿäÿ™"';
            } else if (ua.includes('edge')) {
                instructions = 'üíª Edge: ÿßÿ∂ÿ∫ÿ∑ ÿπŸÑŸâ ÿßŸÑŸÇÿßÿ¶ŸÖÿ© (‚ãØ) ÿ´ŸÖ "ÿßŸÑÿ™ÿ∑ÿ®ŸäŸÇÿßÿ™" ÿ´ŸÖ "ÿ™ÿ´ÿ®Ÿäÿ™"';
            }

            if (instructions) {
                console.log(instructions);
            }
        }

        // Initialize PWA features
        window.addEventListener('load', () => {
            showInstallInstructions();
            clearOldCaches();
        });

        // Update translations for new text
        translations.ar.installApp = 'ÿ™ÿ´ÿ®Ÿäÿ™ ÿßŸÑÿ™ÿ∑ÿ®ŸäŸÇ ÿπŸÑŸâ Ÿáÿßÿ™ŸÅŸÉ';
        translations.ar.offline = 'ÿ£ŸÜÿ™ ÿ∫Ÿäÿ± ŸÖÿ™ÿµŸÑ ÿ®ÿßŸÑÿ•ŸÜÿ™ÿ±ŸÜÿ™';
        translations.en.installApp = 'Install App on Your Phone';
        translations.en.offline = 'You are offline';
        translations.fr.installApp = 'Installer l\'application';
        translations.fr.offline = 'Vous √™tes hors ligne';
        translations.es.installApp = 'Instalar aplicaci√≥n';
        translations.es.offline = 'Est√°s desconectado';
    </script>
</body>
</html>